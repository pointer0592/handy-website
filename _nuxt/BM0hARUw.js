import{I as Oe,r as R,aP as E,d as Z,D as y,aX as K,A as H,aY as Ze,aZ as Xe,a_ as xe,a$ as se,b0 as _e,b1 as de,o as ce,B as Se,ar as Ve,aQ as et,aR as tt,aS as at,aT as be,aU as lt,F as pe,aN as ke,aO as nt,b2 as ot,b3 as Ie,b as Re,b4 as it,b5 as ee,ay as rt,b6 as ut,aV as F,P as $e,Q as Y,k as we,S as ve,U as te,b7 as Fe,ap as Te,X as x,c as v,e as w,f as W,Y as st,b8 as dt,N as q,n as f,M as V,g as ae,t as G,h as B,b9 as ct,ba as pt,E as Ce,G as Ue,V as vt,bb as ft,bc as bt,W as mt,bd as gt,be as Ae,H as yt,J as ht,L as T,w as N,bf as ne,i as _,T as Ot,K as he,O as St,bg as Me,bh as kt,aa as $t,ab as wt,aE as Ct,bi as Vt,bj as It,a9 as M,$ as Be,bk as oe,R as At,bl as Mt,bm as Bt}from"./B3s6vNw4.js";import{_ as Lt}from"./0PPkPpg3.js";import{f as jt,c as P,a as Dt,l as Rt,n as Ft,u as Tt,r as Ut,i as Et}from"./DKtplzZu.js";import{d as Pt,e as zt}from"./LggTt9xo.js";const qt=Oe,Ht={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}};let Le=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function je(e){var n,o;let r=(n=e.innerText)!=null?n:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let i=!1;for(let b of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))b.remove(),i=!0;let t=i?(o=s.innerText)!=null?o:"":r;return Le.test(t)&&(t=t.replace(Le,"")),t}function Nt(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let o=e.getAttribute("aria-labelledby");if(o){let r=o.split(" ").map(s=>{let i=document.getElementById(s);if(i){let t=i.getAttribute("aria-label");return typeof t=="string"?t.trim():je(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return je(e).trim()}function Wt(e){let n=R(""),o=R("");return()=>{let r=E(e);if(!r)return"";let s=r.innerText;if(n.value===s)return o.value;let i=Nt(r).trim().toLowerCase();return n.value=s,o.value=i,i}}function Qt(e,n){return e===n}var Jt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Jt||{}),Gt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Gt||{}),Yt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Yt||{});function Kt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Ee=Symbol("ListboxContext");function me(e){let n=rt(Ee,null);if(n===null){let o=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,me),o}return n}let Zt=Z({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Qt},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:n,attrs:o,emit:r}){let s=R(1),i=R(null),t=R(null),b=R(null),h=R([]),g=R(""),d=R(null),a=R(1);function l(u=c=>c){let c=d.value!==null?h.value[d.value]:null,m=ut(u(h.value.slice()),j=>E(j.dataRef.domRef)),$=c?m.indexOf(c):null;return $===-1&&($=null),{options:m,activeOptionIndex:$}}let O=y(()=>e.multiple?1:0),[C,k]=Pt(y(()=>e.modelValue),u=>r("update:modelValue",u),y(()=>e.defaultValue)),I=y(()=>C.value===void 0?K(O.value,{1:[],0:void 0}):C.value),z={listboxState:s,value:I,mode:O,compare(u,c){if(typeof e.by=="string"){let m=e.by;return(u==null?void 0:u[m])===(c==null?void 0:c[m])}return e.by(u,c)},orientation:y(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:t,optionsRef:b,disabled:y(()=>e.disabled),options:h,searchQuery:g,activeOptionIndex:d,activationTrigger:a,closeListbox(){e.disabled||s.value!==1&&(s.value=1,d.value=null)},openListbox(){e.disabled||s.value!==0&&(s.value=0)},goToOption(u,c,m){if(e.disabled||s.value===1)return;let $=l(),j=jt(u===P.Specific?{focus:P.Specific,id:c}:{focus:u},{resolveItems:()=>$.options,resolveActiveIndex:()=>$.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.disabled});g.value="",d.value=j,a.value=m??1,h.value=$.options},search(u){if(e.disabled||s.value===1)return;let c=g.value!==""?0:1;g.value+=u.toLowerCase();let m=(d.value!==null?h.value.slice(d.value+c).concat(h.value.slice(0,d.value+c)):h.value).find(j=>j.dataRef.textValue.startsWith(g.value)&&!j.dataRef.disabled),$=m?h.value.indexOf(m):-1;$===-1||$===d.value||(d.value=$,a.value=1)},clearSearch(){e.disabled||s.value!==1&&g.value!==""&&(g.value="")},registerOption(u,c){let m=l($=>[...$,{id:u,dataRef:c}]);h.value=m.options,d.value=m.activeOptionIndex},unregisterOption(u){let c=l(m=>{let $=m.findIndex(j=>j.id===u);return $!==-1&&m.splice($,1),m});h.value=c.options,d.value=c.activeOptionIndex,a.value=1},theirOnChange(u){e.disabled||k(u)},select(u){e.disabled||k(K(O.value,{0:()=>u,1:()=>{let c=H(z.value.value).slice(),m=H(u),$=c.findIndex(j=>z.compare(m,H(j)));return $===-1?c.push(m):c.splice($,1),c}}))}};Ze([t,b],(u,c)=>{var m;z.closeListbox(),Xe(c,xe.Loose)||(u.preventDefault(),(m=E(t))==null||m.focus())},y(()=>s.value===0)),se(Ee,z),_e(y(()=>K(s.value,{0:de.Open,1:de.Closed})));let L=y(()=>{var u;return(u=E(t))==null?void 0:u.closest("form")});return ce(()=>{Se([L],()=>{if(!L.value||e.defaultValue===void 0)return;function u(){z.theirOnChange(e.defaultValue)}return L.value.addEventListener("reset",u),()=>{var c;(c=L.value)==null||c.removeEventListener("reset",u)}},{immediate:!0})}),()=>{let{name:u,modelValue:c,disabled:m,form:$,...j}=e,p={open:s.value===0,disabled:m,value:I.value};return Ve(pe,[...u!=null&&I.value!=null?zt({[u]:I.value}).map(([U,ge])=>Ve(et,tt({features:at.Hidden,key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:$,disabled:m,name:U,value:ge}))):[],be({ourProps:{},theirProps:{...o,...lt(j,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:p,slots:n,attrs:o,name:"Listbox"})])}}}),Xt=Z({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:o,expose:r}){var s;let i=(s=e.id)!=null?s:`headlessui-listbox-button-${ke()}`,t=me("ListboxButton");r({el:t.buttonRef,$el:t.buttonRef});function b(a){switch(a.key){case F.Space:case F.Enter:case F.ArrowDown:a.preventDefault(),t.openListbox(),ee(()=>{var l;(l=E(t.optionsRef))==null||l.focus({preventScroll:!0}),t.value.value||t.goToOption(P.First)});break;case F.ArrowUp:a.preventDefault(),t.openListbox(),ee(()=>{var l;(l=E(t.optionsRef))==null||l.focus({preventScroll:!0}),t.value.value||t.goToOption(P.Last)});break}}function h(a){switch(a.key){case F.Space:a.preventDefault();break}}function g(a){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),ee(()=>{var l;return(l=E(t.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),t.openListbox(),Kt(()=>{var l;return(l=E(t.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let d=nt(y(()=>({as:e.as,type:n.type})),t.buttonRef);return()=>{var a,l;let O={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...C}=e,k={ref:t.buttonRef,id:i,type:d.value,"aria-haspopup":"listbox","aria-controls":(a=E(t.optionsRef))==null?void 0:a.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(l=E(t.labelRef))==null?void 0:l.id,i].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:b,onKeyup:h,onClick:g};return be({ourProps:k,theirProps:C,slot:O,attrs:n,slots:o,name:"ListboxButton"})}}}),xt=Z({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:o,expose:r}){var s;let i=(s=e.id)!=null?s:`headlessui-listbox-options-${ke()}`,t=me("ListboxOptions"),b=R(null);r({el:t.optionsRef,$el:t.optionsRef});function h(a){switch(b.value&&clearTimeout(b.value),a.key){case F.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case F.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeOptionIndex.value!==null){let l=t.options.value[t.activeOptionIndex.value];t.select(l.dataRef.value)}t.mode.value===0&&(t.closeListbox(),ee(()=>{var l;return(l=E(t.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case K(t.orientation.value,{vertical:F.ArrowDown,horizontal:F.ArrowRight}):return a.preventDefault(),a.stopPropagation(),t.goToOption(P.Next);case K(t.orientation.value,{vertical:F.ArrowUp,horizontal:F.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),t.goToOption(P.Previous);case F.Home:case F.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToOption(P.First);case F.End:case F.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToOption(P.Last);case F.Escape:a.preventDefault(),a.stopPropagation(),t.closeListbox(),ee(()=>{var l;return(l=E(t.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case F.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(t.search(a.key),b.value=setTimeout(()=>t.clearSearch(),350));break}}let g=ot(),d=y(()=>g!==null?(g.value&de.Open)===de.Open:t.listboxState.value===0);return()=>{var a,l;let O={open:t.listboxState.value===0},{...C}=e,k={"aria-activedescendant":t.activeOptionIndex.value===null||(a=t.options.value[t.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(l=E(t.buttonRef))==null?void 0:l.id,"aria-orientation":t.orientation.value,id:i,onKeydown:h,role:"listbox",tabIndex:0,ref:t.optionsRef};return be({ourProps:k,theirProps:C,slot:O,attrs:n,slots:o,features:Ie.RenderStrategy|Ie.Static,visible:d.value,name:"ListboxOptions"})}}}),_t=Z({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:o,expose:r}){var s;let i=(s=e.id)!=null?s:`headlessui-listbox-option-${ke()}`,t=me("ListboxOption"),b=R(null);r({el:b,$el:b});let h=y(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===i:!1),g=y(()=>K(t.mode.value,{0:()=>t.compare(H(t.value.value),H(e.value)),1:()=>H(t.value.value).some(u=>t.compare(H(u),H(e.value)))})),d=y(()=>K(t.mode.value,{1:()=>{var u;let c=H(t.value.value);return((u=t.options.value.find(m=>c.some($=>t.compare(H($),H(m.dataRef.value)))))==null?void 0:u.id)===i},0:()=>g.value})),a=Wt(b),l=y(()=>({disabled:e.disabled,value:e.value,get textValue(){return a()},domRef:b}));ce(()=>t.registerOption(i,l)),Re(()=>t.unregisterOption(i)),ce(()=>{Se([t.listboxState,g],()=>{t.listboxState.value===0&&g.value&&K(t.mode.value,{1:()=>{d.value&&t.goToOption(P.Specific,i)},0:()=>{t.goToOption(P.Specific,i)}})},{immediate:!0})}),it(()=>{t.listboxState.value===0&&h.value&&t.activationTrigger.value!==0&&ee(()=>{var u,c;return(c=(u=E(b))==null?void 0:u.scrollIntoView)==null?void 0:c.call(u,{block:"nearest"})})});function O(u){if(e.disabled)return u.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),ee(()=>{var c;return(c=E(t.buttonRef))==null?void 0:c.focus({preventScroll:!0})}))}function C(){if(e.disabled)return t.goToOption(P.Nothing);t.goToOption(P.Specific,i)}let k=Dt();function I(u){k.update(u)}function z(u){k.wasMoved(u)&&(e.disabled||h.value||t.goToOption(P.Specific,i,0))}function L(u){k.wasMoved(u)&&(e.disabled||h.value&&t.goToOption(P.Nothing))}return()=>{let{disabled:u}=e,c={active:h.value,selected:g.value,disabled:u},{value:m,disabled:$,...j}=e,p={id:i,ref:b,role:"option",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,"aria-selected":g.value,disabled:void 0,onClick:O,onFocus:C,onPointerenter:I,onMouseenter:I,onPointermove:z,onMousemove:z,onPointerleave:L,onMouseleave:L};return be({ourProps:p,theirProps:j,slot:c,attrs:o,slots:n,name:"ListboxOption"})}}});const De=$e(Y.ui.strategy,Y.ui.checkbox,Ht),ea=Z({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>De.default.color,validator(e){return Y.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:n}){const{ui:o,attrs:r}=ve("checkbox",te(e,"ui"),De,te(e,"class")),{emitFormChange:s,color:i,name:t,inputId:b}=Fe(e),h=b.value??qt(),g=y({get(){return e.modelValue},set(l){n("update:modelValue",l)}}),d=l=>{n("change",l.target.checked),s()},a=y(()=>Te(x(o.value.base,o.value.form,o.value.rounded,o.value.background,o.value.border,i.value&&o.value.ring.replaceAll("{color}",i.value),i.value&&o.value.color.replaceAll("{color}",i.value)),e.inputClass));return{ui:o,attrs:r,toggle:g,inputId:h,name:t,inputClass:a,onChange:d}}}),ta=["data-n-ids"],aa=["id","name","required","value","disabled","indeterminate"],la=["for"];function na(e,n,o,r,s,i){return v(),w("div",{class:f(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[W("div",{class:f(e.ui.container)},[st(W("input",q({id:e.inputId,"onUpdate:modelValue":n[0]||(n[0]=t=>e.toggle=t),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:n[1]||(n[1]=(...t)=>e.onChange&&e.onChange(...t))}),null,16,aa),[[dt,e.toggle]])],2),e.label||e.$slots.label?(v(),w("div",{key:0,class:f(e.ui.inner)},[W("label",{for:e.inputId,class:f(e.ui.label)},[V(e.$slots,"label",{label:e.label},()=>[ae(G(e.label),1)]),e.required?(v(),w("span",{key:0,class:f(e.ui.required)},"*",2)):B("",!0)],10,la),e.help||e.$slots.help?(v(),w("p",{key:0,class:f(e.ui.help)},[V(e.$slots,"help",{help:e.help},()=>[ae(G(e.help),1)])],2)):B("",!0)],2)):B("",!0)],10,ta)}const oa=Object.assign(we(ea,[["render",na]]),{__name:"UCheckbox"}),J=$e(Y.ui.strategy,Y.ui.select,ct),ie=$e(Y.ui.strategy,Y.ui.selectMenu,pt),ia=Z({components:{HCombobox:Rt,HComboboxButton:Ft,HComboboxOptions:Tt,HComboboxOption:Ut,HComboboxInput:Et,HListbox:Zt,HListboxButton:Xt,HListboxOptions:xt,HListboxOption:_t,UIcon:Ce,UAvatar:Ue},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>J.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>J.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>ie.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:()=>ie.default.searchablePlaceholder.label},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>ie.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>ie.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(J.size).includes(e)}},color:{type:String,default:()=>J.default.color,validator(e){return[...Y.ui.colors,...Object.keys(J.color)].includes(e)}},variant:{type:String,default:()=>J.default.variant,validator(e){return[...Object.keys(J.variant),...Object.values(J.color).flatMap(n=>Object.keys(n))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:n,slots:o}){const{ui:r,attrs:s}=ve("select",te(e,"ui"),J,te(e,"class")),{ui:i}=ve("selectMenu",te(e,"uiMenu"),ie),t=y(()=>vt({},e.popper,i.value.popper)),[b,h]=ft(t.value),g=y(()=>{if(!e.by)return;if(typeof e.by=="function")return e.by;const S=e.by;return S.indexOf(".")>0?(A,Q)=>X(A,S)===X(Q,S):S}),{size:d,rounded:a}=bt({ui:r,props:e}),{emitFormBlur:l,emitFormChange:O,inputId:C,color:k,size:I,name:z}=Fe(e,J),L=y(()=>d.value??I.value),u=R(""),c=y({get(){return e.query??u.value},set(S){u.value=S,n("update:query",S)}}),m=y(()=>{function S(A,Q){return g.value&&typeof g.value!="function"&&typeof A=="object"&&typeof Q=="object"?Me(A[g.value],Q[g.value]):Me(A,Q)}function D(A){return e.valueAttribute?X(A,e.valueAttribute):A}if(e.multiple){const A=e.modelValue;return!Array.isArray(A)||!A.length?[]:re.value.filter(Q=>{const le=D(Q);return A.some(Ke=>S(Ke,le))})}return re.value.find(A=>{const Q=D(A);return S(Q,H(e.modelValue))})??e.modelValue}),$=y(()=>e.modelValue?Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:["string","number"].includes(typeof e.modelValue)?e.valueAttribute?X(m.value,e.optionAttribute):e.modelValue:X(e.modelValue,e.optionAttribute):null),j=y(()=>{var D,A;const S=((A=(D=r.value.color)==null?void 0:D[k.value])==null?void 0:A[e.variant])||r.value.variant[e.variant];return Te(x(r.value.base,i.value.select,a.value,r.value.size[L.value],r.value.gap[L.value],e.padded?r.value.padding[L.value]:"p-0",S==null?void 0:S.replaceAll("{color}",k.value),(p.value||o.leading)&&r.value.leading.padding[L.value],(U.value||o.trailing)&&r.value.trailing.padding[L.value]),e.placeholder&&(!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)&&r.value.placeholder,e.selectClass)}),p=y(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),U=y(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),ge=y(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Pe=y(()=>e.loading&&!p.value?e.loadingIcon:e.trailingIcon||e.icon),ze=y(()=>x(r.value.icon.leading.wrapper,r.value.icon.leading.pointer,r.value.icon.leading.padding[L.value])),qe=y(()=>x(r.value.icon.base,k.value&&Y.ui.colors.includes(k.value)&&r.value.icon.color.replaceAll("{color}",k.value),r.value.icon.size[L.value],e.loading&&r.value.icon.loading)),He=y(()=>x(r.value.icon.trailing.wrapper,r.value.icon.trailing.pointer,r.value.icon.trailing.padding[L.value])),Ne=y(()=>x(r.value.icon.base,k.value&&Y.ui.colors.includes(k.value)&&r.value.icon.color.replaceAll("{color}",k.value),r.value.icon.size[L.value],e.loading&&!p.value&&r.value.icon.loading)),ye=e.searchable&&typeof e.searchable=="function"?mt(e.searchable,e.debounce):void 0,re=gt(async()=>ye?await ye(c.value):e.options||[],[],{lazy:e.searchableLazy});function We(S){return S.replace(/[.*+?^${}()|[\]\\]/g,D=>`\\${D}`)}function X(S,D){return Ae(S,D)}const ue=y(()=>{if(!c.value||ye)return re.value;const S=We(c.value);return re.value.filter(D=>{var A;return((A=e.searchAttributes)!=null&&A.length?e.searchAttributes:[e.optionAttribute]).some(Q=>{if(["string","number"].includes(typeof D))return String(D).search(new RegExp(S,"i"))!==-1;const le=Ae(D,Q);return le!=null&&String(le).search(new RegExp(S,"i"))!==-1})})}),Qe=y(()=>c.value===""||e.showCreateOptionWhen==="empty"&&ue.value.length||e.showCreateOptionWhen==="always"&&ue.value.find(D=>["string","number"].includes(typeof D)?D===c.value:X(D,e.optionAttribute)===c.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(c.value,ue.value)?null:["string","number"].includes(typeof e.modelValue)?c.value:{[e.optionAttribute]:c.value});function Je(){e.clearSearchOnClose&&(c.value="")}Se(h,S=>{S?n("open"):(Je(),n("close"),l())});function Ge(S){H(e.modelValue)!==S&&(n("update:modelValue",S),n("change",S),O())}function Ye(S){c.value=S.target.value}return yt(()=>Oe()),{ui:r,uiMenu:i,attrs:s,name:z,inputId:C,popper:t,trigger:b,container:h,selected:m,label:$,accessor:X,isLeading:p,isTrailing:U,selectClass:j,leadingIconName:ge,leadingIconClass:qe,leadingWrapperIconClass:ze,trailingIconName:Pe,trailingIconClass:Ne,trailingWrapperIconClass:He,filteredOptions:ue,createOption:Qe,query:c,onUpdate:Ge,onQueryChange:Ye,by:g}}}),ra=["value","required"],ua=["id","disabled"],sa={class:"truncate"};function da(e,n,o,r,s,i){const t=Ce,b=ht("HComboboxInput"),h=Ue;return v(),T(ne(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:f(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:N(({open:g})=>[e.required?(v(),w("input",{key:0,value:e.modelValue,required:e.required,class:f(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,ra)):B("",!0),(v(),T(ne(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:f(e.uiMenu.trigger)},{default:N(()=>[V(e.$slots,"default",{open:g,disabled:e.disabled,loading:e.loading},()=>[W("button",q({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(v(),w("span",{key:0,class:f(e.leadingWrapperIconClass)},[V(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[_(t,{name:e.leadingIconName,class:f(e.leadingIconClass)},null,8,["name","class"])])],2)):B("",!0),V(e.$slots,"label",{selected:e.selected},()=>[e.label?(v(),w("span",{key:0,class:f(e.uiMenu.label)},G(e.label),3)):(v(),w("span",{key:1,class:f(e.uiMenu.label)},G(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(v(),w("span",{key:1,class:f(e.trailingWrapperIconClass)},[V(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[_(t,{name:e.trailingIconName,class:f(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):B("",!0)],16,ua)])]),_:2},1032,["class"])),g?(v(),w("div",{key:1,ref:"container",class:f([e.uiMenu.container,e.uiMenu.width])},[_(Ot,q({appear:""},e.uiMenu.transition),{default:N(()=>[W("div",null,[e.popper.arrow?(v(),w("div",{key:0,"data-popper-arrow":"",class:f(Object.values(e.uiMenu.arrow))},null,2)):B("",!0),(v(),T(ne(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:f([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:N(()=>{var d,a;return[e.searchable?(v(),T(b,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:f(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):B("",!0),(v(!0),w(pe,null,he(e.filteredOptions,(l,O)=>(v(),T(ne(e.searchable?"HComboboxOption":"HListboxOption"),{key:O,as:"template",value:e.valueAttribute?e.accessor(l,e.valueAttribute):l,disabled:l.disabled},{default:N(({active:C,selected:k,disabled:I})=>[W("li",{class:f([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,C?e.uiMenu.option.active:e.uiMenu.option.inactive,k&&e.uiMenu.option.selected,I&&e.uiMenu.option.disabled])},[W("div",{class:f(e.uiMenu.option.container)},[V(e.$slots,"option",{option:l,active:C,selected:k},()=>[l.icon?(v(),T(t,{key:0,name:l.icon,class:f([e.uiMenu.option.icon.base,C?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,l.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):l.avatar?(v(),T(h,q({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...l.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):l.chip?(v(),w("span",{key:2,class:f(e.uiMenu.option.chip.base),style:St({background:`#${l.chip}`})},null,6)):B("",!0),W("span",sa,G(["string","number"].includes(typeof l)?l:e.accessor(l,e.optionAttribute)),1)])],2),k?(v(),w("span",{key:0,class:f([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[_(t,{name:e.selectedIcon,class:f(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):B("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(v(),T(ne(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:N(({active:l,selected:O})=>[W("li",{class:f([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,l?e.uiMenu.option.active:e.uiMenu.option.inactive])},[W("div",{class:f(e.uiMenu.option.container)},[V(e.$slots,"option-create",{option:e.createOption,active:l,selected:O},()=>[W("span",{class:f(e.uiMenu.option.create)},'Create "'+G(typeof e.createOption=="string"?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((d=e.filteredOptions)!=null&&d.length)?(v(),w("p",{key:2,class:f(e.uiMenu.option.empty)},[V(e.$slots,"option-empty",{query:e.query},()=>[ae(G(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(a=e.filteredOptions)!=null&&a.length?B("",!0):(v(),w("p",{key:3,class:f(e.uiMenu.empty)},[V(e.$slots,"empty",{query:e.query},()=>[ae(G(e.uiMenu.default.empty.label),1)])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):B("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const ca=Object.assign(we(ia,[["render",da]]),{__name:"USelectMenu"});class fe extends Error{constructor(n){super(n),this.message=n,Object.setPrototypeOf(this,fe.prototype)}}const pa=Z({props:{schema:{type:[Object,Function],default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:n,emit:o}){const r=Oe(),s=Vt(`form-${r}`),i=R(null);ce(()=>{s.on(async a=>{var l;a.type!=="submit"&&((l=e.validateOn)!=null&&l.includes(a.type))&&await g(a.path,{silent:!0})})}),Re(()=>{s.reset()});const t=R([]);se("form-errors",t),se("form-events",s);const b=R({});se("form-inputs",b);async function h(){let a=await e.validate(e.state);if(e.schema){const{errors:l,result:O}=await Ca(e.state,e.schema);l?a=a.concat(l):i.value=O}return a}async function g(a,l={silent:!1}){let O=a;if(a&&!Array.isArray(a)&&(O=[a]),O){const C=t.value.filter(I=>!O.includes(I.path)),k=(await h()).filter(I=>O.includes(I.path));t.value=C.concat(k)}else t.value=await h();if(t.value.length>0){if(l.silent)return!1;throw new fe(`Form validation failed: ${JSON.stringify(t.value,null,2)}`)}return e.state}async function d(a){var O;const l=a;try{(O=e.validateOn)!=null&&O.includes("submit")&&await g(),l.data=e.schema?i.value:e.state,o("submit",l)}catch(C){if(!(C instanceof fe))throw C;const k={...l,errors:t.value.map(I=>({...I,id:b.value[I.path]}))};o("error",k)}}return n({validate:g,errors:t,setErrors(a,l){l?t.value=t.value.filter(O=>O.path!==l).concat(a):t.value=a},async submit(){await d(new Event("submit"))},getErrors(a){return a?t.value.filter(l=>l.path===a):t.value},clear(a){a?t.value=t.value.filter(l=>l.path!==a):t.value=[]}}),{onSubmit:d,errors:kt(t)}}});function va(e){return e.validate&&e.__isYupSchema__}function fa(e){return e.inner!==void 0}function ba(e){return"schema"in e&&typeof e.coercer=="function"&&typeof e.validator=="function"&&typeof e.refiner=="function"}function ma(e){return e.validateAsync!==void 0&&e.id!==void 0}function ga(e){return e.isJoi===!0}function ya(e){return"_parse"in e||"_run"in e||typeof e=="function"&&"schema"in e}function ha(e){return e.parse!==void 0}async function Oa(e,n){const o=await("_parse"in n?n._parse(e):"_run"in n?n._run({typed:!1,value:e},{}):n(e));return!o.issues||o.issues.length===0?{errors:null,result:"output"in o?o.output:"value"in o?o.value:null}:{errors:o.issues.map(s=>{var i;return{path:((i=s.path)==null?void 0:i.map(t=>t.key).join("."))||"",message:s.message}}),result:null}}async function Sa(e,n){try{return{errors:null,result:await n.validateAsync(e,{abortEarly:!1})}}catch(o){if(ga(o))return{errors:o.details.map(s=>({path:s.path.join("."),message:s.message})),result:null};throw o}}async function ka(e,n){const o=await n.safeParseAsync(e);return o.success===!1?{errors:o.error.issues.map(s=>({path:s.path.join("."),message:s.message})),result:null}:{result:o.data,errors:null}}async function $a(e,n){const[o,r]=n.validate(e);return o?{errors:o.failures().map(i=>({message:i.message,path:i.path.join(".")})),result:null}:{errors:null,result:r}}async function wa(e,n){try{return{errors:null,result:await n.validate(e,{abortEarly:!1})}}catch(o){if(fa(o))return{errors:o.inner.map(s=>({path:s.path??"",message:s.message})),result:null};throw o}}function Ca(e,n){if(ha(n))return ka(e,n);if(ma(n))return Sa(e,n);if(ya(n))return Oa(e,n);if(va(n))return wa(e,n);if(ba(n))return $a(e,n);throw new Error("Form validation failed: Unsupported form schema")}function Va(e,n,o,r,s,i){return v(),w("form",{onSubmit:n[0]||(n[0]=Ct((...t)=>e.onSubmit&&e.onSubmit(...t),["prevent"]))},[V(e.$slots,"default",$t(wt({errors:e.errors})))],32)}const Ia=Object.assign(we(pa,[["render",Va]]),{__name:"UForm"}),Aa=Z({inheritAttrs:!1,__name:"AuthForm",props:{title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},align:{type:String,default:"bottom"},loading:{type:Boolean,default:!1},fields:{type:Array,default:()=>[]},providers:{type:Array,default:()=>[]},submitButton:{type:Object,default:()=>({})},passwordToggle:{type:Object,default:()=>({})},schema:{type:Object,default:void 0},validate:{type:[Function,Array],default:void 0},validateOn:{type:Array,default:()=>["submit"]},divider:{type:String,default:"or"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["submit"],setup(e,{expose:n}){const o=e,r=y(()=>({wrapper:"w-full max-w-sm space-y-6",base:"",container:x("gap-y-6 flex flex-col",o.align==="top"&&"flex-col-reverse"),title:"text-2xl text-gray-900 dark:text-white font-bold",description:"text-gray-500 dark:text-gray-400 mt-1",icon:{wrapper:"mb-2 pointer-events-none",base:"w-8 h-8 flex-shrink-0 text-gray-900 dark:text-white"},providers:"space-y-3",form:"space-y-6",footer:"text-sm text-gray-500 dark:text-gray-400 mt-2",passwordToggle:{showIcon:"i-heroicons-eye",hideIcon:"i-heroicons-eye-slash"},default:{submitButton:{label:"Continue"},passwordToggle:{color:"gray",variant:"link"}}})),s=R(),{ui:i,attrs:t}=ve("auth.form",te(o,"ui"),r,te(o,"class"),!0),b=It(Object.values(o.fields).reduce((d,{name:a,value:l})=>(d[a]=l,d),{})),h=R(!1);function g(){h.value=!h.value}return n({formRef:s,state:b}),(d,a)=>{var c,m,$,j;const l=Ce,O=At,C=Lt,k=oa,I=ca,z=Bt,L=Mt,u=Ia;return v(),w("div",q({class:M(i).wrapper},M(t)),[e.icon||d.$slots.icon||e.title||d.$slots.title||e.description||d.$slots.description?(v(),w("div",{key:0,class:f(M(i).base)},[e.icon||d.$slots.icon?(v(),w("div",{key:0,class:f(M(i).icon.wrapper)},[V(d.$slots,"icon",{},()=>[_(l,{name:e.icon,class:f(M(i).icon.base)},null,8,["name","class"])])],2)):B("",!0),e.title||d.$slots.title?(v(),w("div",{key:1,class:f(M(i).title)},[V(d.$slots,"title",{},()=>[ae(G(e.title),1)])],2)):B("",!0),e.description||d.$slots.description?(v(),w("div",{key:2,class:f(M(i).description)},[V(d.$slots,"description",{},()=>[ae(G(e.description),1)])],2)):B("",!0)],2)):B("",!0),W("div",{class:f(M(i).container)},[(c=e.providers)!=null&&c.length?(v(),w("div",{key:0,class:f(M(i).providers)},[(v(!0),w(pe,null,he(e.providers,(p,U)=>(v(),T(O,q({key:U,ref_for:!0},p,{block:"",onClick:p.click}),null,16,["onClick"]))),128))],2)):B("",!0),(m=e.providers)!=null&&m.length&&(($=e.fields)!=null&&$.length)?(v(),T(C,{key:1,label:e.divider},null,8,["label"])):B("",!0),(j=e.fields)!=null&&j.length?(v(),T(u,{key:2,ref_key:"formRef",ref:s,state:b,schema:e.schema,validate:e.validate,"validate-on":e.validateOn,class:f(M(i).form),onSubmit:a[0]||(a[0]=p=>d.$emit("submit",p.data))},{default:N(()=>[(v(!0),w(pe,null,he(e.fields,p=>(v(),T(L,{key:p.name,label:p.type==="checkbox"?"":p.label??"",description:p.description,help:p.help,hint:p.hint,name:p.name,size:p.size},Be({default:N(()=>[V(d.$slots,`${p.name}-field`,q({ref_for:!0},{state:b,field:M(oe)(p,["description","help","hint","size"])}),()=>[p.type==="checkbox"?(v(),T(k,q({key:0,modelValue:b[p.name],"onUpdate:modelValue":U=>b[p.name]=U,ref_for:!0},M(oe)(p,["description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"])):p.type==="select"?(v(),T(I,q({key:1,modelValue:b[p.name],"onUpdate:modelValue":U=>b[p.name]=U,ref_for:!0},M(oe)(p,["description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"])):p.type==="password"?(v(),T(z,q({key:2,modelValue:b[p.name],"onUpdate:modelValue":U=>b[p.name]=U,type:h.value?"text":"password",ref_for:!0},M(oe)(p,["label","description","help","hint","size","type"]),{ui:{icon:{trailing:{pointer:""}}}}),Be({_:2},[e.passwordToggle?{name:"trailing",fn:N(()=>[_(O,q({ref_for:!0},{...M(i).default.passwordToggle,...e.passwordToggle},{icon:h.value?M(i).passwordToggle.hideIcon:M(i).passwordToggle.showIcon,padded:!1,onClick:g}),null,16,["icon"])]),key:"0"}:void 0]),1040,["modelValue","onUpdate:modelValue","type"])):(v(),T(z,q({key:3,modelValue:b[p.name],"onUpdate:modelValue":U=>b[p.name]=U,ref_for:!0},M(oe)(p,["label","description","help","hint","size"])),null,16,["modelValue","onUpdate:modelValue"]))])]),_:2},[d.$slots[`${p.name}-label`]?{name:"label",fn:N(()=>[V(d.$slots,`${p.name}-label`)]),key:"0"}:void 0,d.$slots[`${p.name}-description`]?{name:"description",fn:N(()=>[V(d.$slots,`${p.name}-description`)]),key:"1"}:void 0,d.$slots[`${p.name}-hint`]?{name:"hint",fn:N(()=>[V(d.$slots,`${p.name}-hint`)]),key:"2"}:void 0,d.$slots[`${p.name}-help`]?{name:"help",fn:N(()=>[V(d.$slots,`${p.name}-help`)]),key:"3"}:void 0]),1032,["label","description","help","hint","name","size"]))),128)),V(d.$slots,"validation"),_(O,q({type:"submit",block:"",loading:e.loading},{...M(i).default.submitButton,...e.submitButton}),null,16,["loading"])]),_:3},8,["state","schema","validate","validate-on","class"])):B("",!0)],2),d.$slots.footer?(v(),w("div",{key:1,class:f(M(i).footer)},[V(d.$slots,"footer")],2)):B("",!0)],16)}}}),Da=Object.assign(Aa,{__name:"UAuthForm"});export{Da as _};
